var ALog=ALog||{};void function(O){var r=Math,d=window,D=document,M=parseInt;var L,F=/msie \d+/i.test(navigator.userAgent),h="alog-",B=h+"alias",G=h+"action",n=h+"group",a=h+"param",N=h+"extra",f=h+"text";var y={},w={count:0,items:[]},c=[],K={},q=O.configs||{},H,s=(+new Date).toString(36)+(r.random().toFixed(8).substr(2)).toString(36);O.errors=w;O.configs=q;O.times=y;O.sid=s;function m(U){y[U]=+new Date}function t(){if(L){return}L={};"AdivBliCaDulEdlFddGspanHtableIbodyJtrKsectionLtdMolNpOarticlePdtQformRimgSh3TinputUasideViWbXthYemZfont".replace(/([A-Z])([a-z]+)/g,function(W,U,V){L[L[U]=V]=U})}function z(X,W,Y,V){if(!X||X.nodeType!=1){return""}var U=(/^[^u]/.test(typeof X.getAttribute)&&X.getAttribute(W))||"";if("#"==U){U="[id]"}else{if("."==U){U="[class]"}}U.replace(/\[([\w-_]+)\]/,function(aa,Z){U=X.getAttribute(Z)});V&&(V.target=X);return U||(Y&&z(X.parentNode,W,1,V))||""}function o(X,U,aa){aa&&t();U=U||D.body;if(!X||X==U||/^body$/i.test(X.tagName)){return""}if(X.nodeType!=1||/html/i.test(X.tagName)){return X.tagName||""}var W=z(X,B),Z=1,Y=X.previousSibling,V=X.nodeName.toLowerCase();while(Y){Z+=Y.nodeName==X.nodeName;Y=Y.previousSibling}W=(aa&&L[V]||V)+(Z<2?"":Z)+(W&&"("+W+")");return X.parentNode==U?W:o(X.parentNode,U,aa)+(/^[A-Z]/.test(W)?"":"-")+W}function T(W,U){U=U||D;if(!W||W==U){return""}var V=z(W,"monkey",0);if(W.parentNode==U||W.parentNode==null){return V?"m-"+V:"m"}else{return T(W.parentNode,U)+(V?"-":"")+V}}O.getM=T;function J(V,U){return o(V,U,1)}O.getXPath=J;function C(V,U){return z(V,G,true,U)}O.getAction=C;function p(U){return z(U,n,true)}O.getGroup=p;function R(U){return z(U,N,true)}O.getExtra=R;function i(U){return z(U,a)}O.getParam=i;function e(U){return z(U,f)}O.getText=e;function Q(W,Y){if(!W||!Y){return}v("report",Y);var Z=new Image(1,1),U=[],V="img_"+(+new Date);for(var X in Y){if(Y[X]||Y[X]===0){U.push(X+"="+encodeURIComponent(Y[X]))}}O[V]=Z;Z.onload=Z.onerror=function(){O[V]=Z=Z.onload=Z.onerror=null;delete O[V]};Z.src=W+"?"+U.join("&")}O.report=Q;function v(V,Y){var X=K[V],U=0;if(!X){return}var W=X.length;while(W--){if(X[W](Y,V)){U++}}return U}O.fire=v;function x(W,V,U){w.count++;if(w.items.length<=9){w.items.push([W,V,U,+new Date])}v("error",w)}O.error=x;function A(X,V,Y,U){if(!X){return}try{U&&U.push([X,V,Y]);if(X==O){K[V]=K[V]||[];K[V].unshift(Y);return}if(X.addEventListener){X.addEventListener(V,Y,false)}else{if(X.attachEvent){X.attachEvent("on"+V,Y)}}}catch(W){}}O.on=A;function E(X,U,aa){if(!X){return}try{if(X instanceof Array){for(var Z;Z=X.pop();){E.apply(this,Z)}return}if(X==O){var Y=K[U];if(!Y){return}var W=Y.length;while(W--){if(Y[W]===aa){Y.splice(W,1)}}return}if(X.removeEventListener){X.removeEventListener(U,aa,false)}else{X.detachEvent&&X.detachEvent("on"+U,aa)}}catch(V){}}O.un=E;function l(U){return U.replace(/\(([^)]+)\)/g,"").replace(/[A-Z]/g,function(V){return"-"+L[V]}).replace(/^-/,"")}O.epath=l;function I(U,V){if(!V){return q[U]}q[U]=q[U]||[];if(V instanceof Array){q=q[U].concat(V)}else{q[U].push(V)}}O.config=I;function k(){if(H){return}H=true;m("ult");if(v("unload")){isSleep=new Date;while(new Date-isSleep<100){}}}function j(V,Y){var X=V.getBoundingClientRect(),U=P(V);function W(aa,Z){return String(+r.min(r.max(aa/Z,0),1).toFixed(Z<36?1:(Z<351?2:3))).replace(/^0\./g,".")}return[W(Y[0]-X.left,U[0]),W(Y[1]-X.top,U[1])]}O.ep=j;function P(U){var V=U.getBoundingClientRect();return[M(V.right-V.left),M(V.bottom-V.top)]}function u(){var V=P(D.documentElement),U=P(D.body);return[r.max(V[0],U[0],d.innerWidth||0,D.documentElement.scrollWidth||0),r.max(V[1],U[1],d.innerHeight||0,D.documentElement.scrollHeight||0)]}O.ps=u;function g(){return[r.max(D.documentElement.scrollLeft||0,D.body.scrollLeft||0,(D.defaultView&&D.defaultView.pageXOffset)||0),r.max(D.documentElement.scrollTop||0,D.body.scrollTop||0,(D.defaultView&&D.defaultView.pageYOffset)||0),d.innerWidth||D.documentElement.clientWidth||D.body.clientWidth||0,d.innerHeight||D.documentElement.clientHeight||D.body.clientHeight||0]}O.vr=g;function S(V,U){switch(V){case"group":n=U;break;case"alias":B=U;break;case"action":G=U;break;case"param":a=U;break;case"extra":N=U;break}}O.an=S;A(d,"beforeunload",k);A(d,"unload",k);A(d,"error",x)}(ALog);var Monkey=Monkey||{};void function(G){var e=window,A=document;var K,o,J="monkey",c=[["mousedown","d"],["focusout","o"],["blur","o",e],["focusin","i"],["focus","i",e],["scroll","s",e],["resize","e",e]],p,h,q,d=[],f,H,j,g,y,k,i,n,w,F,z,l={},B={},a=e.ALog,D,L;function I(Q){if(!Q){return}var O,P={ts:N().toString(36)};for(O in l){P[O]=l[O]}for(O in Q){P[O]=Q[O]}s("report",P);a.report(K.postUrl,P);a.report(K.hao123PostUrl,P)}function E(P,Q){if(!P){return}var O={cmd:"action",ac:P,param:Q};s("action",O);I(O)}G.push=E;function u(O,P){O&&(l[O]=P)}G.set=u;function x(P,Q,O){a.on(a,J+"."+P,Q,O)}G.on=x;function N(){return new Date-h}function M(O){while(O){if(/^(a|button)$/i.test(O.tagName)){return O}O=O.parentNode}}function m(){switch(o.refer){case 1:case true:return A.referrer;case 2:var O=A.referrer;if(!O){return}var P="";O.replace(/(^\w+:\/\/)?([^\/]+)/,function(R,Q){P=Q});if(A.location.host==P){return A.referrer}return P}}function C(R,ag,ae){var aj=ag.target||ag.srcElement;switch(R){case"d":if(!aj){return}H++;var O={},T=M(aj),Y=a.getAction(aj,O),ad="",W=a.getText(aj);if(T){if(/^a$/i.test(T.tagName)){if(o.click){ad=T.getAttribute("href",2);if(/^(javascript|#)/i.test(ad)){ad=""}var P=T.getAttribute("cls");if(P){P=P.split(",");var ac=(ad.indexOf("hao123.com")>-1)?1:0}}j++}else{g++}if(o.click){W=W||a.getText(T)||T.title||T.innerHTML.replace(/<[^>]*>|\s/g,"")}}else{if(/input/i.test(aj.tagName)&&/button|radio|checkbox|submit/i.test(aj.type)){T=aj;g++;W=W||aj.value}}if(/img/i.test(aj.tagName)){k++;W=W||aj.alt||aj.title||aj.src}if((!T&&!Y)||!o.click){break}if(o.onlylink&&/input|button/i.test(aj.tagName)){break}y++;var X=ae?ae.path+"/"+D(aj,ae.doc):D(aj),ah=L(aj),U=a.getGroup(aj),Q=a.getExtra(aj),S=a.getParam(O.target),aa=a.ep(aj,[ag.clientX,ag.clientY]),ak=aj.ownerDocument,V=ak.body,af=[0,0];if(ag.pageX||ag.pageY){af=[ag.pageX,ag.pageY]}else{if(ag.clientX||ag.clientY){af=[ag.clientX+(ak&&ak.scrollLeft||V&&V.scrollLeft||0)-(ak&&ak.clientLeft||V&&V.clientLeft||0),ag.clientY+(ak&&ak.scrollTop||V&&V.scrollTop||0)-(ak&&ak.clientTop||V&&V.clientTop||0)]}}var ai={xp:X,mp:ah,g:U,gx:Q,ac:Y,ep:aa,ci:y,pp:af,ps:a.ps(),param:S,u:String(ad||"none").substr(0,200),txt:String(W||"none").substr(0,30)};if(P){ai.c0=ac;for(var ab=0;ab<P.length;ab++){key="c"+(ab+1);ai[key]=P[ab]?P[ab]:("n"+(ab+1))}}if(o.vr){ai.vr=a.vr()}s("click",ai);I(ai);break;case"o":n=N();w=1;break;case"i":F+=N()-n;n=N();w=0;break;case"s":case"e":var Z=a.vr();z=Math.max(Z[1]+Z[3],z);break}}function t(P){if(!window.ALog||h||!document.body.getBoundingClientRect){return}a=ALog;P=P||[];if(!(P instanceof Array)){P=[P]}var Q,R,O,S=[].concat(P);while(K=S.pop()){if(K.page=K.page||K.getPage()){break}}if(!K){return}if(K.page instanceof Array){K.mid=K.mid||K.page[1];K.page=K.page[0]}o=K.reports;a.on(a,"unload",r,d);a.on(a,"error",v,d);D=a.getXPath;L=a.getM;H=j=g=y=k=n=w=F=0;h=(a.times&&a.times.ht)||new Date;q=a.sid||(+h).toString(36)+(+Math.random().toFixed(8).substr(2)).toString(36);f="_e_"+q;l={pid:K.pid||241,sid:q,hid:K.hid,mid:K.mid,page:K.page,ver:5,p:K.product,px:e.screen.width+"*"+e.screen.height,ref:m()};for(Q in K){if(/^on(\w+)$/.test(Q)){x(Q.substr(2),K[Q],d)}}s("start",G);n=N();O=a.vr();z=O[1]+O[3];o.pv&&I({cmd:"open"});for(Q=0;R=c[Q++];){a.on(R[2]||A,R[0],(function(T){return function(U){if(!h){return}C(T,U)}})(R[1]),d);if(!o.staytime){break}}}G.start=t;function r(){if(!h){return}s("close",G);if(w){F+=N()-n}if(o.staytime){var O={cmd:"close",tc:H,lc:j,bc:g,pc:k,pd:z,ft:(N()-F).toString(36),ec:i};I(O)}h=0;a.un(d);return o.staytime}G.stop=r;function s(P,O){a.fire(J+"."+P,O)}G.fire=s;function v(P){i=P.count;if(o.error){o.error=0;var O=P.items[0];if(O){I({cmd:"error",et:(O[3]-h).toString(36),url:O[1],msg:O[0],line:O[2]})}}}if(a){if(a.configs&&a.configs[J]){t(a.configs[J])}}}(Monkey);(function(f){var u="data-log-config";var e="1.1.3";var y={rcv:"www.hao123.com/images/track.gif",vdur:30*60000,age:31536000000,id:"hao123"};var m={rcv:y.rcv,currentPageVisitTime:(new Date).getTime(),protocol:window.location.protocol=="https:"?"https:":"http:"};var r=["www.hao123.com","hao123.com","www.hao123.com/?f=hao123","www.hao123.com/?from=hao123"];var t=["tm","ref","embed","ua","ho","type","r","v"];var h={};var a=document.getElementsByTagName("script");for(var w=0,q=a.length;w<q;w++){var p=a[w].getAttribute(u);if(p){var d=p.split(";");for(var s=0;s<d.length;s++){var o=d[s].split(":");var z=o[0];var k=o[1];t.push(z);h[z]=k}if(h.page!="index"&&!h.vp){h.vp=h.vp||h.pageId||h.page;t.push("vp")}}}m.tagKeys=t;var n={};n.checkUA=function(F){F=F||0.2;var C=window,I=document,E=screen,c=navigator;var B=document.body,l=I.documentElement;function H(J){return J.toLowerCase()}function v(J){return new RegExp(J+"\\b[ \\/]?([\\w\\.]*)","i")}function j(){if(Math.random()>F){return}var L="ShockwaveFlash.ShockwaveFlash",K;if(c.plugins&&c.mimeTypes.length){K=c.plugins["Shockwave Flash"];if(K&&K.description){return K.description.match(/\d+/g).join(".")}}else{var J=ActiveXObject;try{K=new J(L+".7")}catch(M){try{K=new J(L+".6");K.AllowScriptAccess="always";return 6}catch(M){}try{K=new J(L)}catch(M){}}if(K!=null){try{return K.GetVariable("$version").match(/\d+/g).join(".")}catch(M){}}}return[0]}function D(){var J,K;if(C.innerHeight||C.innerHeight==0){J=C.innerWidth;K=C.innerHeight}else{if(l&&l.clientHeight){J=l.clientWidth;K=l.clientHeight}else{J="";K=""}}return[J,K]}function A(J){if(result=c.userAgent.match(v(J))){return result.slice(1)}else{return["",""]}}function G(){return !(typeof window._360ilike=="undefined")}function i(){var S=["",""],K="msie",R="safari";var L="("+K+"|"+R+"|firefox|chrome|opera)";var N="(maxthon|360se|theworld|se|theworld|greenbrowser)",W="(tencenttraveler)";var T="(windows nt|macintosh|solaris|linux)";var Q=A(L);if(H(Q[0])==K){if((S=A(N))==","){S=A(W);S=G()?["360se","se"]:[","]}}else{if(H(Q[0])==R){Q[1]=A("version")+"."+Q[1]}}var P=A(T);var J=[Q.join(","),S.join(","),P.join(",")];var O=j();var M=D();var U=[J[0],J[1],J[2],c.platform,c.systemLanguage||c.language,E.width,E.height,M[0],M[1],E.colorDepth,c.cookieEnabled?1:0,O,c.javaEnabled()?1:0];var V=H(U.join(";"));return V}return i()};n.l={};n.l._initUserData=function(){if(!n.l.userDataElem){try{n.l.userDataElem=document.createElement("input");n.l.userDataElem.type="hidden";n.l.userDataElem.style.display="none";n.l.userDataElem.addBehavior("#default#userData");document.getElementsByTagName("head")[0].appendChild(n.l.userDataElem)}catch(c){return false}}return true};n.checkHome=function(){var l=false;function v(){if(!l){l=document.createElement("div");l.style.display="none";l.style.behavior="url(#default#homePage)";document.body.appendChild(l)}return l}function j(A){try{return v().isHomePage(A)}catch(B){}return undefined}function i(){var A=r;A.push(location.host);var C=A.length,B;while(C--){B=A[C];A.push(B+"/","http://"+B,"http://"+B+"/")}return A}function c(){var C,B,A;C=i();C.push(document.URL);B=C.length;while(B--){A=C[B];if(j(A)){return A}}return 0}return c()};n.sio={};n.sio.log=function(i,l){var c=new Image;var j="_log_"+Math.floor(Math.random()*2147483648).toString(36);window[j]=c;c.onload=c.onerror=c.onabort=function(){c.onload=c.onerror=c.onabort=null;window[j]=null;c=null;if(l){l(i)}};c.src=i};function g(){if(typeof h.level=="undefined"||h.level!="1"){var l="_log_erjidata_";var j=[],c=ALog;c.on(document.body,"submit",function(B){var B=window.event||B;var A=B.srcElement||B.target;if(A.tagName.toLowerCase()=="form"){v()}},j);c.on(document.body,"click",function(B){var B=window.event||B;var A=B.srcElement||B.target;if(i(A)){v()}},j);function i(A){while(A){if(typeof A.hasAttribute=="function"&&(/^(a|button|b)$/i.test(A.tagName)||A.hasAttribute("as-link"))){return A}A=A.parentNode}return false}function v(){if(!window[l]){try{if(!h.pageId){throw {name:"not defined",message:"pageId is not defined"}}var A=[];A.push("type=erjidata");A.push("valid=1");A.push("pageId="+encodeURIComponent(h.pageId));typeof pageTitle!="undefined"&&A.push("pageTitle="+encodeURIComponent(pageTitle));typeof h.level!="undefined"&&A.push("level="+encodeURIComponent(h.level));typeof h.page!="undefined"&&A.push("page="+encodeURIComponent(h.page));A.push("r="+(new Date).getTime());n.sio.log(m.protocol+"//"+m.rcv+"?"+A.join("&"));window[l]=true;c.un(j)}catch(B){var A=[];for(w in h){A.push(w+"="+encodeURIComponent(h[w]))}A.push("type=error");A.push("n="+encodeURIComponent(B.name));A.push("m="+encodeURIComponent(B.message));A.push("r="+encodeURIComponent(document.referrer));n.sio.log(m.protocol+"//"+m.rcv+"?"+A.join("&"))}}}}}g();function x(){this.tags={};this.init()}x.prototype={init:function(){var i=this;try{i.setParams();i.postData();if(!h.pageId){throw {name:"not defined",message:"pageId is pageId not defined"}}}catch(j){var c=[];for(w in h){c.push(w+"="+encodeURIComponent(h[w]))}c.push("type=error");c.push("n="+encodeURIComponent(j.name));c.push("m="+encodeURIComponent(j.message));c.push("r="+encodeURIComponent(document.referrer));n.sio.log(m.protocol+"//"+m.rcv+"?"+c.join("&"))}},setTm:function(){var c;var j;var i;m.lastPageVisitTime=this.getData("H123_lpvt_"+y.id)||0;j=this.getData("H123_lvt_"+y.id);if(!j){j=m.currentPageVisitTime;c=Math.round((j-0)/1000)}else{i=j.split(",");if(m.currentPageVisitTime-i[i.length-1]>y.vdur){i.push(m.currentPageVisitTime)}while(i.length>4){i.shift()}j=i.join(",");c=Math.round((i[i.length-1]-0)/1000)}this.setData("H123_lvt_"+y.id,j,y.age);this.setData("H123_lpvt_"+y.id,m.currentPageVisitTime,y.age);this.tags.tm=c},getData:function(v){try{var B=new RegExp("(^| )"+v+"=([^;]*)(;|$)");var c=B.exec(document.cookie);var A=c?c[2]:null;if(!A){if(window.localStorage){var C=window.localStorage.getItem(v);if(C){var j=C.indexOf("|");var i=C.substring(0,j)-0;if(i&&i>(new Date).getTime()){return C.substring(j+1)}}}else{if(n.l._initUserData()){n.l.userDataElem.load(window.location.hostname);return n.l.userDataElem.getAttribute(v)}}}return A}catch(l){}},setData:function(j,l,A){try{var c=new Date;c.setTime(c.getTime()+A||365*24*60*60*1000);if(window.localStorage){l=c.getTime()+"|"+l;window.localStorage.setItem(j,l)}else{if(n.l._initUserData()){n.l.userDataElem.expires=c.toUTCString();n.l.userDataElem.load(window.location.hostname);n.l.userDataElem.setAttribute(j,l);n.l.userDataElem.save(window.location.hostname)}}}catch(i){try{if(A){c=new Date;c.setTime(c.getTime()+A||365*24*60*60*1000)}document.cookie=j+"="+l+(c?"; expires="+c.toGMTString():"")}catch(v){}}},removeData:function(j){try{if(window.localStorage){window.localStorage.removeItem(j)}else{if(n.l._initUserData()){n.l.userDataElem.load(window.location.hostname);n.l.userDataElem.removeAttribute(j);n.l.userDataElem.save(window.location.hostname)}}}catch(i){try{var c=new Date;c.setTime(c.getTime()-1);document.cookie=j+"=; expires="+c.toGMTString()}catch(l){}}return true},serializeTags:function(){var A=[];for(var v=0,c=m.tagKeys.length;v<c;v++){var j=m.tagKeys[v];var B=this.tags[j];if(typeof B!="undefined"&&B!==""){A.push(j+"="+encodeURIComponent(B))}}return A.join("&")},setParams:function(){this.setTm();if(Math.random()<0.005){this.tags.ua=n.checkUA()}this.tags.ho=n.checkHome();this.tags.ref=document.referrer;this.tags.embed=(self!==top)?1:0;this.tags.v=e;this.tags.r=(new Date).getTime();for(w in h){this.tags[w]=h[w]}},postData:function(){var i=this;i.tags.type="access";var c=m.protocol+"//"+m.rcv+"?"+i.serializeTags();n.sio.log(c,function(j){})}};new x;f&&f(h)})(function(a){Monkey.start({getPage:function(){return a.pageId},postUrl:"http://nsclick.baidu.com/h.gif",hao123PostUrl:"http://www.hao123.com/h.gif",pid:113,hid:450,onstart:function(){document.cookie.replace(/(?:^| )BAIDUID=([^;]*)(;|$)/,function(f,g){g&&Monkey.set("hao123_baiduid",decodeURIComponent(g.split(":")[0]))});ALog.an("group","monkey");ALog.an("extra","monkeyExtra");var e=["doc","common_erji_favorite_container","layoutContainer","userBar"];for(var d=0;d<e.length;d++){var c=document.getElementById(e[d]);if(c&&c.setAttribute){c.setAttribute("alog-alias",e[d])}}},onreport:function(d){d.ver=5.2;d.v=d.page;document.cookie.replace(/(?:^| )FLASHID=([^;]*)(;|$)/,function(h,g){if(g){d.hao123_flashid=decodeURIComponent(g.split(":")[0])}});delete d.page;d.objurl=d.u;delete d.u;d.title=d.txt;delete d.txt;d.area=d.g;delete d.g;d.monkey=d.mp;delete d.mp;if(d.xp&&ALog.epath){d.axp=d.xp;d.xp=ALog.epath(d.xp)}Monkey.fire("beforereport",d);if(d.gx){var f=String(d.gx),c=window.JSON&&JSON.parse?JSON.parse(f):/^[\],:{}\s]*$/.test(b.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?(new Function("return "+f))():null;if(c){for(var e in c){d[e]=c[e]}}delete d.gx}},reports:{click:1,onlylink:1}})});
